# 第一章:数据库基础概念

## 数据 , 数据库

信息 : 客观存在的

数据 : 所有能被计算机处理记录的信息就是数据

## 数据库

#### 数据库 (Database) 

特征:

- 永久存在的
- 有组织的
- 可共享的
- 冗余度小
- 易拓展 

![image-20210208100104221](%E6%95%B0%E6%8D%AE%E5%BA%93.assets/image-20210208100104221.png)

软件分为 : 系统软件(操作系统) 和 应用软件

数据库管理软件(数据库系统) 是系统软件

#### 数据库管理系统(DBMS)

功能 :

- 数据定义
- 数据操作
- 数据库运行管理
- 数据库建立和维护

#### 数据库系统(DBS)

构成:

- 数据库
- 数据库管理系统
- 应用系统
- 相关人员

#### 数据库管理员(DBA)



## 数据库体系结构

### **三层模式**

1. 外模式(子模式/用户模式)
2. **逻辑模式(模式)** : 只有一个
3. 内模式(里模式/物理模式) : 只有一个

### **两级映像**

1. 外模式 <-> 逻辑模式
2. 逻辑模式 <->内模式

### 作用 :**三层模式**两级映像**保证了数据的**独立性

1. 逻辑独立性(逻辑模式变了 , 外部不用变 , 只改变(依靠) 外模式 <-> 逻辑模式 映像)
2. 物理独立性(内模式变了 , 外部不用变 , 只改变(依靠) 逻辑模式 <->内模式 映像)

<img src="%E6%95%B0%E6%8D%AE%E5%BA%93.assets/image-20210208101128562.png" alt="image-20210208101128562" style="zoom:50%;" />

 



## 数据模型

满足要求:

能表示真实世界

易理解

计算机容易实现

满足三要素

1. 数据结构 - 用于描述静态特性
2. 数据操作 - 描述动态特性
3. 数据约束条件 - 一组完整性规则的集合

### 数据模型的分类

1. 关系模型
2. 半结构化的数据模型
   - 层次 网状(早期的)
   - XML (可拓展性标记语言)
   - JSON(网络上) 

本质区别 : 数据结构不同

数据结构  -表 ...



## 数据库技术的产生

### 数据库系统阶段

- 管理者
- 面向对象:现世对象
- 共享程度高
- 独立性
- 结构化
- 控制能力

# 关系型数据库

## 关系模型

### 关系数据结构

数据逻辑结构 : 二维表

关系模型建立在集合代数的基础上

### 域(Domain)(一列)  

一组具有相同类型的结合(全是 整数 或字符串  或 ..)

比如一列

### 笛卡尔积

1. 给定一组域 $D_1 D_2...D_n$ 这些域可以完全相同和不同或部分相同
2. $D_1 D_2...D_n$ 的笛卡尔积为 $D_1 \times D_2 ... =\{(d_1,d_2...) \}$ 所有域的所有取值的一个组合 
3. 不能重复

###  关系: Relation (一个表)   

1. 表的每一行是一个元祖
2. 表的每一列是一个域

元祖: (一行)

### 属性: Attribute(每一列的名字)

### 码(Key , 键)

#### 候选码:在关系中能唯一标识元祖的属性或者属性集

#### 主属性: 候选码的各个属性

#### 主码 : 用户作为元祖标识的候选键

#### 全码 : 关系的所有属性是这个关系的候选码

### 三类关系

基本表 : 

1. 列是同质的 
2. 不同列可以出自同一个数 
3. 列和行的顺序无所谓 
4. 必须取原子值(只能有一个值)

查询表

视图

### 表示形式

n个属性 m 个元祖 有 n! X m! 种

### 关系模式

关系模式是对关系模式的描述

关系模式是型 , 关系是值

关系  -学生

关系模式  -学生(学号 , 姓名 ...)

关系模式通常可以记为R(U) 或 R(A1 ,A2 , ....)

### 关系 VS 关系模式

关系模式 ：

- 对关系的描述


- 静态的 . 稳定的


关系 ：

- 关系模式在某一时刻的状态或者内容


- 动态的 , 随时间不断变化的




### 关系数据库

所有实体与实体之间联系的**关系的集合构成**了一个**关系数据库**

例如 教学管理数据库有四个关系 有四个关系模式

## 关系操作

 常见的关系操作

- 查询 插入 删除 修改


- 关系操作特点 集合操作方式


- 关系数据语言的种类 :SQL


- 关系数据语言的特点 是一种高度非过程化的语言 能够嵌入高级语言中


##  完整性约束

### 实体完整性

- 主码唯一且不能为空
- 主属性不能取空值

### 参照完整性

外码(Foreign Key)

如果一个关系R 的一个属性F 是另外关系S 的主码K

参照完整性的规则就是定义外码和主码的引用规则

参照完整性的规则

外码的取值必须为 : 空值 被参照表中的某个元祖的主码值

### 用户自定义的完整性

比如 性别只能取{'男' , '女'}

## 关系代数

### 传统：并、查、交

### 专门：投影、选择

### 笛卡尔积、连接

### 重命名

![image-20210308114535168](%E6%95%B0%E6%8D%AE%E5%BA%93.assets/image-20210308114535168.png)





# SQL

| SQL功能     | 动词                        |
| ----------- | --------------------------- |
| 数据定义DDL | CREATE DROP ALTER           |
| 数据操作DML | SELECT INSERT UPDATE DELETE |
| 数据控制DCL | GRANT REVOKE                |



